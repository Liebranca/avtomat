#!/usr/bin/perl

# test peso classes

# ---   *   ---   *   ---
# graphics test

package ANSI;

  use v5.36.0;
  use strict;
  use warnings;

# ---   *   ---   *   ---

sub color($class,@ar) {

  my $esc=q{};

  for my $c(@ar) {

    my $fg=$c&0xF;
    my $bg=$c>>4;

    my $bold_fg=$fg>7;
    my $bold_bg=$bg>7;

    $fg&=7;$fg=30+$fg;
    $bg&=7;$bg=40+$bg;

    $bold_fg=($bold_fg) ? 1 : 22;
    $bold_bg=($bold_bg) ? 5 : 25;

    $esc.=

      "\e[$bold_fg;${fg}m".
      "\e[$bold_bg;${bg}m"

    ;

  };

  return $esc;

};

# ---   *   ---   *   ---
1; # ret

# ---   *   ---   *   ---
# deps

package main;
  use v5.36.0;
  use strict;
  use warnings;

  use English qw(-no_match_vars);

  use lib $ENV{'ARPATH'}.'/lib/sys/';

  use Style;
  use Arstd::Bytes;

  use Blk;
  use Type;
  use Cask;
  use Fmat;

  use lib $ENV{'ARPATH'}.'/lib/hacks/';
  use lib $ENV{'ARPATH'}.'/lib/';

  use Peso::Ipret;

# ---   *   ---   *   ---

my $s=q{$:col 82;>hello$:col 07;>};

say Peso::Ipret::pesc(
  $s,gd=>'ANSI',

);

# ---   *   ---   *   ---

#my $frame=Blk->new_frame();
#my $non=$frame->nit(undef,'non');
#
#my $type=$Type::Table->nit(
#
#  'st',[
#
#    byte_str=>'buf(16)',
#
#  ],
#
#);
#
#my $ptr=$non->alloc('st',$type,4);
#my $cask=Cask->nit($ptr->subdiv());
#
#$ptr=$cask->take();
#$ptr=$cask->take();
#
#$ptr->strcpy('$$$$');
#
#my $d=$type->decode($ptr->rawdata());
#say fatdump($d);

#$non->prich();

# ---   *   ---   *   ---
