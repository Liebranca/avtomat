#!/usr/bin/perl

# test peso classes

# ---   *   ---   *   ---
# deps

package main;
  use v5.36.0;
  use strict;
  use warnings;

  use Readonly;
  use English qw(-no_match_vars);

  use lib $ENV{'ARPATH'}.'/lib/sys/';

  use Style;
  use Arstd::Bytes;

  use Mem;
  use Type;
  use Cask;
  use Fmat;

  use lib $ENV{'ARPATH'}.'/lib/hacks/';
  use lib $ENV{'ARPATH'}.'/lib/';

  use Peso::Ipret;

# ---   *   ---   *   ---
# ROM

  Readonly our $DOM   => 0x0000;
  Readonly our $SIGIL => 0x0000;

# ---   *   ---   *   ---

#my $s=q{$:col 82;>hello$:col 07;>};
#
#say Peso::Ipret::pesc(
#  $s,gd=>'ANSI',
#
#);

# ---   *   ---   *   ---

my $type=$Type::Table->nit(

  'st',[

    byte_str=>'buf(8)',

  ],

);

my $blk  = Mem->new('test');

my $ptrs = $blk->alloc('st',$type,2);
my $cask = Cask->nit($ptrs->subdiv());

my $ptr=$cask->view(0);
$ptr->strcpy('HLOWRLD!');

$ptr=$cask->view(1);
$ptr->strcpy('BYEWRLD!');

$Mem::Non->prich();

# ---   *   ---   *   ---
