%;

# ---   *   ---   *   ---

case 'branch.new' {

  attr sig;
    body any;

  attr fn;
    push    branch,tmp;

    insert  lv.tmp,0,self.body;
    mergef  lv.tmp,2;

    discard branch;

};

# ---   *   ---   *   ---

case 'def' at $00 {

  attr sig;
    name sym,string;
    body opera '\{';

  attr fn;
  invoke as @,self.name {
    branch.new self.body;

  };

};

# ---   *   ---   *   ---

case 'proc' anywhere {

  attr sig;
    name sym;

  attr fn;
  branch.new {
    exe code;
    blk self.name;

  };

};

public proc start;

# ---   *   ---   *   ---
